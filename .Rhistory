library(tm)
library(rvest)
html <- read_html("http://www.investopedia.com/categories/personalfinance.asp")
html %>% html_nodes("div")
...
html %>% html_nodes("div")
html %>% html_nodes("div")
html %>% html_nodes("div")
html %>% html_nodes("responsive-insert-ad")
html %>% html_nodes("#responsive-insert-ad")
html %>% html_nodes("#responsive-insert-ad") %>% .[[1]]
html %>% html_nodes(css = "#responsive-insert-ad > ol")
html %>% html_nodes(css = "#responsive-insert-ad > ol > li")
html %>% html_nodes(css = "#responsive-insert-ad > ol > li") %>% html_attr([1])
html %>% html_nodes(css = "#responsive-insert-ad > ol > li") %>% html_attr(1)
html %>% html_nodes(css = "#responsive-insert-ad > ol > li") %>% html_attr(2)
html %>% html_nodes(css = "#responsive-insert-ad > ol > li > h3") %>% html_attr(2)
html %>% html_nodes(css = "#responsive-insert-ad > ol > li > h3")
html %>% html_nodes(css = "#responsive-insert-ad > ol > li > h3 > a") %>% html_attr(2)
html %>% html_nodes(css = "#responsive-insert-ad > ol > li > h3 > a")
html %>% html_nodes(css = "#responsive-insert-ad > ol > li > h3 > a > data-label")
html %>% html_nodes(css = "#responsive-insert-ad > ol > li > h3 > a") %>% html_attr(2, name = data-label)
html %>% html_nodes(css = "#responsive-insert-ad > ol > li > h3 > a") %>% html_attr(2, name = "data-label")
html %>% html_nodes(css = "#responsive-insert-ad > ol > li > h3 > a") %>% html_attr(2, name = "data-label")
library(tm)
library(rvest)
html <- read_html("http://www.investopedia.com/categories/personalfinance.asp")
html %>% html_nodes(css = "#responsive-insert-ad > ol > li > h3 > a") %>% html_attr(2, name = "data-label")
head(html %>% html_nodes(css = "#responsive-insert-ad > ol > li > h3 > a") %>% html_attr(2, name = "data-label"))
tail(html %>% html_nodes(css = "#responsive-insert-ad > ol > li > h3 > a") %>% html_attr(2, name = "data-label"))
i <- 1
class(i)
html <- read_html("http://www.investopedia.com/categories/personalfinance.asp?page="$i)
html <- read_html("http://www.investopedia.com/categories/personalfinance.asp?page="$"i")
html <- read_html("http://www.investopedia.com/categories/personalfinance.asp?page=$i")
html
html %>% html_nodes(css = "#responsive-insert-ad > ol > li > h3 > a") %>% html_attr(2, name = "data-label")
i <- 2
html <- read_html("http://www.investopedia.com/categories/personalfinance.asp?page=$i")
html %>% html_nodes(css = "#responsive-insert-ad > ol > li > h3 > a") %>% html_attr(2, name = "data-label")
html <- read_html("http://www.investopedia.com/categories/personalfinance.asp?page=2")
html %>% html_nodes(css = "#responsive-insert-ad > ol > li > h3 > a") %>% html_attr(2, name = "data-label")
test <- c("http://www.investopedia.com/categories/personalfinance.asp?page=",as.character(i))
test
test <- paste("http://www.investopedia.com/categories/personalfinance.asp?page=",as.character(i))
test
test <- paste("http://www.investopedia.com/categories/personalfinance.asp?page=", i)
test
test <- paste("http://www.investopedia.com/categories/personalfinance.asp?page=", i, collapse = "")
test
test <- paste("http://www.investopedia.com/categories/personalfinance.asp?page=", i, collapse = " ")
test
test <- paste("http://www.investopedia.com/categories/personalfinance.asp?page=", i, collapse = "")
test
test <- paste("http://www.investopedia.com/categories/personalfinance.asp?page=",i, collapse = "")
test
?paste
test <- paste("http://www.investopedia.com/categories/personalfinance.asp?page=", i, sep = "")
test
link <- paste("http://www.investopedia.com/categories/personalfinance.asp?page=", i, sep = "")
link <- paste("http://www.investopedia.com/categories/personalfinance.asp?page=", i, sep = "")
link
i <- 1
link
link <- paste("http://www.investopedia.com/categories/personalfinance.asp?page=", i, sep = "")
link
data.frame(PFterms)
html %>% html_nodes(css = "#responsive-insert-ad > ol > li > h3 > a") %>% html_attr(2, name = "data-label") %>% PFterms
PFterms <- html %>% html_nodes(css = "#responsive-insert-ad > ol > li > h3 > a") %>% html_attr(2, name = "data-label")
data.frame(PFterms)
PFterms[1:5200] <- html %>% html_nodes(css = "#responsive-insert-ad > ol > li > h3 > a") %>% html_attr(2, name = "data-label")
PFterms
PFterms <- rep(NA, 5200)
PFterms
PFterms <- html %>% html_nodes(css = "#responsive-insert-ad > ol > li > h3 > a") %>% html_attr(2, name = "data-label")
PFterms
dog <- "cat" + "dog"
dog <- "cat" "dog"
dog <- "cat", "dog"
test <- c(3,4,5)
test
test <- c(test, 6)
test
test <- c(test, 6)
test
test <- c(test, c(3,4,5,2))
test
i <- 1
while (i < 53) {
link <- paste("http://www.investopedia.com/categories/personalfinance.asp?page=", i, sep = "")
html <- read_html(link)
value <- html %>% html_nodes(css = "#responsive-insert-ad > ol > li > h3 > a") %>% html_attr(2, name = "data-label")
PFterms <- c(PFterms, value)
i <- i + 1
}
head(PFterms)
tail(PFterms)
PFterms[1]
gsub
gsub()
(test <- gsub("", "", PFterms[1]))
(test <- gsub("\\|", "", PFterms[1]))
(test <- gsub("\\|[[:alpha:]]*", "", PFterms[1]))
(test <- gsub("\\| [[:alpha:]]*", "", PFterms[1]))
(test <- gsub("\\| /[[:alpha:]]*", "", PFterms[1]))
?regexp
(test <- gsub("\\|[[:punct:]][[:alpha:]]*", "", PFterms[1]))
(test <- gsub("\\| [[:punct:]][[:alpha:]]*", "", PFterms[1]))
(test <- gsub("\\| [[:punct:]][[:alpha:]]*[[:punct:]]", "", PFterms[1]))
(test <- gsub("\\| [[:punct:]][[:alpha:]]*[[:punct:]][[:alpha:]]*[[:punct:]]", "", PFterms[1]))
(test <- gsub("\\|$", "", PFterms[1]))
(test <- gsub("\\| $", "", PFterms[1]))
(test <- gsub("\\| [[:punct:]][[:alpha:]]*[[:punct:]][[:alpha:]]*[[:punct:]]$", "", PFterms[1]))
(test <- gsub("\\| [[:punct:]][[:alpha:]]*[[:punct:]][[:alpha:]]*[[:punct:]$]", "", PFterms[1]))
(test <- gsub("\\| [[:punct:]][[:alpha:]]*[[:punct:]][[:alpha:]]*[[:punct:]]", "", PFterms[1]))
(test <- gsub("\\| [[:punct:]][[:alpha:]]*[[:punct:]][[:alpha:]]*$[[:punct:]]", "", PFterms[1]))
(test <- gsub("\\|.*", "", PFterms[1]))
(test <- gsub("\\ |.*", "", PFterms[1]))
(test <- gsub("\\|.*", "", PFterms[1]))
(test <- gsub("|.*", "", PFterms[1]))
(test <- gsub("\\b|.*", "", PFterms[1]))
(test <- gsub("\\|.*", "", PFterms[1]))
(test <- gsub("\\( |).*", "", PFterms[1]))
(test <- gsub("\\ |.*", "", PFterms[1]))
(test <- gsub("\\ |.*", "", PFterms[1]))
(test <- gsub("\\|.*", "", PFterms[1]))
(test <- gsub("\\|.*", "", PFterms[1:10]))
(test <- gsub("\\|.*", "", PFterms[1]))
(test <- gsub("\\(?<= |).*", "", PFterms[1]))
(test <- gsub("\\(?<=|).*", "", PFterms[1]))
(test <- gsub("\\(?<=|).*$", "", PFterms[1]))
(test <- gsub("\\|.*$", "", PFterms[1]))
(test <- gsub("\\_|.*$", "", PFterms[1]))
(test <- gsub("\\|.*$", "", PFterms[1]))
(test <- gsub("\\\s|.*$", "", PFterms[1]))
(test <- gsub("\\s|.*$", "", PFterms[1]))
(test <- gsub("\\|.*$", "", PFterms[1]))
(test <- gsub("\\|.*$", "", PFterms[1]))
PFshort_terms <- gsub("\\|.*$", "", PFterms)
head(PFshort_terms)
tail(PFshort_terms)
tail(PFterms)
head(PFterms)
head(PFshort_terms)
head(PFterms)
?sprintf
# ------------
# ------------
# Data Science <> Week 2 <> Project <> Personal Finance Twitter Bot
# August 03, 2016
# tania ermak <><><> matthew biggins
# ------------
# Environment Setup -------------------------------------------------------
library(tm)
library(rvest)
# Scraping Data -----------------------------------------------------------
# can append page number at the end of each link to make scraping easier "?page=#"
html <- read_html("http://www.investopedia.com/categories/personalfinance.asp")
html %>% html_nodes(css = "#responsive-insert-ad > ol > li > h3 > a") %>% html_attr(2, name = "data-label")
# Lets try a loop here!
i <- 1
while (i < 53) {
link <- sprintf("http://www.investopedia.com/categories/personalfinance.asp?page=%s", i)
html <- read_html(link)
value <- html %>% html_nodes(css = "#responsive-insert-ad > ol > li > h3 > a") %>% html_attr(2, name = "data-label")
PFterms <- c(PFterms, value)
i <- i + 1
}
# testing gsub without running whole script...
(test <- gsub("\\|.*$", "", PFterms[1]))
PFshort_terms <- gsub("\\|.*$", "", PFterms)
# comparison of PF terms
head(PFterms)
head(PFshort_terms)
i <- 1
while (i < 53) {
link <- sprintf("http://www.investopedia.com/categories/personalfinance.asp?page=%s", i)
html <- read_html(link)
value <- html %>% html_nodes(css = "#responsive-insert-ad > ol > li > h3 > a") %>% html_attr(2, name = "data-label")
PFterms <- c(PFterms, value)
i <- i + 1
}
PFterms <- NA
while (i < 53) {
link <- sprintf("http://www.investopedia.com/categories/personalfinance.asp?page=%s", i)
html <- read_html(link)
value <- html %>% html_nodes(css = "#responsive-insert-ad > ol > li > h3 > a") %>% html_attr(2, name = "data-label")
PFterms <- c(PFterms, value)
i <- i + 1
}
(test <- gsub("\\|.*$", "", PFterms[1]))
head(PFterms)
head(PFshort_terms)
PFshort_terms <- gsub("\\|.*$", "", PFterms)
head(PFshort_terms)
rm(PFterms)
PFterms <- c(PFterms, value)
PFterms <- NULL
head(PFterms)
while (i < 53) {
link <- sprintf("http://www.investopedia.com/categories/personalfinance.asp?page=%s", i)
html <- read_html(link)
value <- html %>% html_nodes(css = "#responsive-insert-ad > ol > li > h3 > a") %>% html_attr(2, name = "data-label")
PFterms <- c(PFterms, value)
i <- i + 1
}
PFshort_terms <- gsub("\\|.*$", "", PFterms)
head(PFterms)
(test <- gsub("\\|.*$", "", PFterms[1]))
PFterms <-
0
PFterms <-  String()
PFterms <-  character()
head(PFterms)
while (i < 53) {
link <- sprintf("http://www.investopedia.com/categories/personalfinance.asp?page=%s", i)
html <- read_html(link)
value <- html %>% html_nodes(css = "#responsive-insert-ad > ol > li > h3 > a") %>% html_attr(2, name = "data-label")
PFterms <- c(PFterms, value)
i <- i + 1
}
head(PFterms)
PFterms <- html %>% html_nodes(css = "#responsive-insert-ad > ol > li > h3 > a") %>% html_attr(2, name = "data-label")
head(PFterms)
html <- read_html("http://www.investopedia.com/categories/personalfinance.asp")
PFterms <- html %>% html_nodes(css = "#responsive-insert-ad > ol > li > h3 > a") %>% html_attr(2, name = "data-label")
head(PFterms)
(test <- gsub("\\|.*$", "", PFterms[1]))
